Julian Assange has appeared in court to give evidence over allegations he was the target of an illegal surveillance campaign while living at the Ecuadorian Embassy in London.

Footage from embassy CCTV cameras and documents, including private legal papers and a medical record, were said to have been offered to Spanish police during an undercover operation.

A Spanish security firm has been accused over the hack and the case was launched in Madrid earlier this year.

A Julian Assange supporter outside Westminster Magistrates´ Court (Jonathan Brady/PA)

Assange, 48, who is currently being held in HMP Belmarsh awaiting the outcome of an extradition request by the US, appeared at Westminster Magistrates’ Courts in person on Friday.

The hearing is unconnected to the US extradition case, where he faces 18 charges including conspiracy to commit computer intrusion.

Assange is accused of working with former US army intelligence analyst Chelsea Manning to leak hundreds of thousands of classified documents.

The hearing was held in a closed court, but a small crowd of Assange’s supporters were gathered outside the building in central London with banners and signs demanding his release.

Journalists were also denied entry to the courtroom.

Assange was scheduled to give evidence to the Spanish judge tasked with investigating the case – the equivalent of a police interview – via video-link from within the courtroom.